## 代码规范


### 规范目的
> 为提高团队协作效率，便于后期优化维护， 输出高质量的文档， 特制订此文档。本规范文档一经确认，前端开发人员必须按本文档规范进行开发。本文档如有不对或者不合适的地方请及时提出，经讨论决定后方可更改。

### 基本准则
> 符合web标准，语义化html，结构表现行为分离，兼容性优良。页面性能方面，代码要求简洁明了有序，尽可能的减小服务器负载，保证最快的 解析速度。

### 文件规范
1. html，css，js，images文件均归档至<系统开发规范>约定的目录中；
2. html文件命名：英文命名全部小写，后缀.html；
3. css文件命名：英文命名，后缀.css。共用common.css；
4. js文件命名：英文命名，后缀.js。共用common.js；
5. 相关联的html，css，js命名应统一，方便查找；

### HTML书写规范
1. 文档类型声明及编码： 统一为html5声明类型<!DOCTYPE html>；编码统一为<meta charset="utf-8" />，书写时利用2个空格严禁使用tab实现层次分明的缩进；
2. 非特殊情况下样式文件必须外链至<head>...</head>之间；非特殊情况下JavaScript文件必须外链至页面底部；
3. 引入样式文件或JavaScript文件时，须略去默认类型声明，写法如下：

		Example Source Code:
		<link rel="stylesheet" href="..." />
		<style>...</style>
		<script src="..."></script>
4. 所有编码均遵循html标准，标签 & 属性 & 属性命名 必须由小写字母、中划线、数字等组成；
5. 充分利用无兼容性问题的html自身标签，比如span，em，strong，label等等；需要为html元素添加自定义属性的时候，首先要考虑下有没有默认的已有的合适标签去设置，如果没有，可以使用须以"data-"为前缀来添加自定义属性，避免使用"data:"等其他命名方式；
6. 语义化html，如 标题根据重要性用h*(同一页面只能有一个h1)，段落标记用p，列表用ul，内联元素中不可嵌套块级元素；
7. 尽可能减少div嵌套；
8. 书写链接地址时, 必须避免重定向，例如：href="http://itaolun.com/", 即须在URL地址后面加上“/”；
9. 在页面中尽量避免使用style属性,即style="…"；
10. 必须为含有描述性表单元素(input, textarea)添加label，如
11. 能以背景形式呈现的图片, 尽量写入css样式中；
12. 重要图片必须加上alt属性；给重要的元素和截断的元素加上title；
13. 给区块代码及重要功能(比如循环)加上注释，方便后台添加功能；
15. 特殊符号使用使用实体转义字符；
16. 书写页面过程中, 请考虑向后扩展性；
17. class & id 参见 css书写规范；

### css书写规范
1. 编码统一为utf-8；
2. 使用normalize.css初始化样式；
3. class与id的使用：id是页面唯一的，仅使用在大的模块上；尽量用class选择器书写样式；
4. css属性书写顺序，建议遵循：布局定位属性-->自身属性-->文本属性-->其他属性。此条可根据自身习惯书写，但尽量保证同类属性写在一起；
5. 书写代码前， 考虑并提高样式重复使用率；
6. 样式表中中文字体名，请务必转码成unicode码，以避免编码错误时乱码；
7. 背景图片请尽可能使用sprite技术，减小http请求，考虑到多人协作开发，sprite按模块制作；
8. 避免兼容性属性的使用，比如CSS3的相关属性；
9. 减少使用影响性能的属性, 比如position:absolute || float；
10. 必须为大区块样式添加注释，小区块适量注释；
11. 代码缩进与格式：建议多行书写，缩进2个空格，由打包工具压缩；
12. 请不要使用 !important；

### JavaScript书写规范
1. 文件编码统一为utf-8；
2. 每行代码结束必须有分号；原则上所有功能均根据项目需求原生开发，以避免网上down下来的代码造成的代码污染(沉冗代码 || 与现有代码冲突 || ...)；
3. 库引入：原则上由开发初期根据需求选择，若需引入第三方库，须与团队其他人员讨论决定；维护第三方库版本，在可控范围内升级；
4. 变量命名：小驼峰式命名。原生JavaScript变量要求是纯英文字母；使用es6新语法规范中的let、const代替var；
5. 全局环境只应设置常量；
6. 类命名: 大驼峰式命名；
7. 函数命名: 小驼峰式命名；
8. 命名语义化, 尽可能利用英文单词或其缩写；
9. 尽量避免使用存在兼容性及消耗资源的方法或属性, 比如eval() & innerText；
10. 代码结构明了，加适量注释，提高函数重用率；
11. 考虑到所有可变因素，并做相应的处理，保证代码健壮性；

### 图片规范
1. 所有页面元素类图片均放入images文件夹；
2. 图片格式仅限于gif || png || jpg；
3. 命名全部用小写英文字母 || 数字 || _ 的组合，其中不得包含汉字 || 空格 || 特殊字符；尽量用易懂的词汇， 便于团队其他成员理解；另，命名分头尾两部分，用下划线隔开，比如ad_left01.gif || btn_submit.gif；
4. 在保证视觉效果的情况下选择最小的图片格式与图片质量, 以减少加载时间；
5. 运用css sprite技术集中小的背景图或图标，减小页面http请求，但注意，请务必在对应的sprite psd源图中划参考线，并保存至img目录下；
6. 纯色图标建议使用图标字体，只维护一份图标字体文件；

### 注释规范
1. html注释：注释格式 <!--这儿是注释--\>；
2. css注释：注释格式 /*这儿是注释\*/；
3. JavaScript注释，单行注释使用'//这儿是单行注释' ，多行注释使用 /* 这儿有多行注释 */；
4. js内重要方法注释需要注明方法思路、逻辑等信息；最好留下作者信息；

### 开发及测试工具约定
开发工具：建议使用WebStorm，亦可根据自己喜好选择；
测试工具：前期开发仅测试Chrome & FireFox，后期优化时加入IE & QQ浏览器 & 360浏览器等常用浏览器；

### 其他规范
1. 开发过程中严格按分工完成页面，以提高css复用率，避免重复开发；
2. 减小沉冗代码，书写所有人都可以看的懂的代码。优雅是一种习惯，为同事着想，为自己的人身安全着想。

		DIV+CSS 命名规范
		1. 主布局推荐命名：
		外　套：　　wrap 
		主导航：　　mainnav 
		子导航：　　subnav 
		整个页面：　content 
		页　眉：　　header 
		页　脚：　　footer 
		商　标：　　label 
		标　题：　　title 
		主导航：　　mainbav（globalnav） 
		顶导航：　　topnav 
		边导航：　　sidebar 
		左导航：　　leftsidebar 
		右导航：　　rightsidebar 
		旗　志：　　logo 
		标　语：　　banner 
		菜单内容1： menu1 content 
		菜单容量：　menu container 
		子菜单：　　submenu 
		边导航图标：sidebarIcon 
		注释：　　　note 
		面包屑：　　breadcrumb(即页面所处位置导航提示） 
		容器：　　　container 
		内容：　　　content 
		搜索：　　　search 
		登陆：　　　login 
		功能区：　　shop(如购物车，收银台) 
		当前的　　　current 

		2.另外在编辑样式表时可用的注释可这样写： 
		<-- Footer --> 
		内容区 
		<-- End Footer --> 
